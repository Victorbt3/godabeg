<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Mobile Logo -->
<img src="iages/logo.jpeg" class="mobile-logo" alt="App Logo">

<!-- Mobile Bottom Navigation -->
<div class="mobile-nav">
  <a href="scan.html">Scan</a>
  <a href="#" onclick="showHistory()">History</a>
  <a href="#" onclick="showSettings()">Settings</a>
</div>

<div class="main-container">

    <!-- LEFT SIDE (Sidebar) -->
    <div class="left-section sidebar-menu">
        <div class="user-profile-icon" id="userProfileName">—</div>

        <ul class="menu-list">
            <li><a href="scan.html">Start a live scan</a></li>
            <li><a href="settings.html">Settings</a></li>
            <li><a href="history.html">Your History</a></li>
            <li><a href="#" onclick="logout();return false;">Logout</a></li>
        </ul>

        <div class="user-panel">
            <p>Signed in as <strong id="userEmail">—</strong></p>
        </div>
    </div>

    <!-- RIGHT SIDE -->
    <div class="right-section">
        <div class="page-header">
            <a href="about.html" class="about-link">About Us</a>
        </div>    

        <!-- Main content / text analysis area -->
        <div class="main-area">
            <div class="hero centered-hero">
                <img src="images/logo22.svg" class="hero-image-large" alt="Hero">
                <h1 class="hero-title">How are you feeling today?</h1>
                <p class="hero-subtitle">Type how you feel or use the Live Scan to analyze your expression.</p>

                <div class="hero-input">
                    <input id="chatInput" class="hero-chat" type="text" placeholder="Tell me how you feel">
                    <button id="chatSend" class="hero-send" onclick="handleChatSend()"><img src="images/arrow-icon.svg" alt="Send"></button>
                </div>
            </div>

            <div id="settingsPanel" class="panel" style="display:none;">
                <h2 class="panel-title">Settings &amp; Privacy</h2>
                <div class="panel-body">
                    <label class="toggle-row">
                        <input type="checkbox" id="settingAutoScan">
                        <span>Auto-start live scan on Scan page</span>
                    </label>
                    <label class="toggle-row">
                        <input type="checkbox" id="settingSaveHistory">
                        <span>Save analysis history locally</span>
                    </label>
                    <label class="toggle-row">
                        <input type="checkbox" id="settingShareData">
                        <span>Allow sharing anonymized usage data</span>
                    </label>
                    <div class="panel-actions">
                        <button class="create-btn" onclick="saveSettings()">Save Settings</button>
                        <button class="create-btn secondary" onclick="clearLocalHistory()">Clear Local History</button>
                    </div>
                </div>
            </div>

            <div id="historyPanel" class="panel" style="display:none;">
                <h2 class="panel-title">Your History</h2>
                <div class="panel-body">
                    <div class="panel-actions">
                        <button class="create-btn" onclick="refreshHistory()">Refresh</button>
                    </div>
                    <div id="historyList" class="history-list"></div>
                </div>
            </div>

        </div>


    </div>

</div>

<!-- TensorFlow.js and MobileNet -->
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.20.0/dist/tf.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/blazeface"></script>
<script src="js/sentiment.js"></script>
<script src="js/app.js"></script>
</body>
</html>
